<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Player Ressonance</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            background: #121212;
            color: white;
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .test-card {
            background: #1d1d1d;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            cursor: pointer;
            transition: background 0.3s;
        }
        .test-card:hover {
            background: #282828;
        }
        .play-btn {
            background: #1db954;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px 5px;
        }
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            z-index: 10000;
        }
        .notification.success { background: #27ae60; }
        .notification.error { background: #e74c3c; }
        .notification.info { background: #3498db; }
    </style>
</head>
<body>
    <h1>Teste do Player Ressonance</h1>
    
    <div class="test-card" onclick="testSong1()">
        <h3>Teste 1: Música Simples</h3>
        <p>Clique para testar reprodução de uma música</p>
        <button class="play-btn" onclick="event.stopPropagation(); testSong1()">
            <i class="fas fa-play"></i> Reproduzir
        </button>
    </div>
    
    <div class="test-card" onclick="testSong2()">
        <h3>Teste 2: Múltiplos Formatos</h3>
        <p>Clique para testar seleção de formato</p>
        <button class="play-btn" onclick="event.stopPropagation(); testSong2()">
            <i class="fas fa-play"></i> Reproduzir
        </button>
    </div>
    
    <div class="test-card">
        <h3>Controles do Player</h3>
        <button class="play-btn" onclick="window.togglePlay()">
            <i class="fas fa-play"></i> Play/Pause
        </button>
        <button class="play-btn" onclick="window.rewind5s()">
            <i class="fas fa-backward"></i> -5s
        </button>
        <button class="play-btn" onclick="window.forward5s()">
            <i class="fas fa-forward"></i> +5s
        </button>
    </div>

    <!-- Player HTML -->
    <footer style="position: fixed; bottom: 0; left: 0; right: 0; background: #000; padding: 20px; display: grid; grid-template-columns: 1fr 2fr 1fr; gap: 20px; align-items: center;">
        <div style="display: flex; align-items: center; gap: 10px;">
            <img src="https://via.placeholder.com/50x50/333/fff?text=♪" alt="Capa" id="currentCover" style="width: 50px; height: 50px; border-radius: 4px;">
            <div>
                <div id="currentTitle" style="font-weight: bold;">Selecione uma música</div>
                <div id="currentArtist" style="color: #b3b3b3;">Artista</div>
            </div>
        </div>
        
        <div style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
            <div style="display: flex; gap: 15px; align-items: center;">
                <button onclick="window.rewind5s()" style="background: none; border: none; color: #b3b3b3; cursor: pointer; padding: 8px;">
                    <i class="fas fa-backward"></i>
                </button>
                <button onclick="window.togglePlay()" id="playBtn" style="background: #1db954; color: #000; border: none; width: 50px; height: 50px; border-radius: 50%; cursor: pointer;">
                    <i class="fas fa-play"></i>
                </button>
                <button onclick="window.forward5s()" style="background: none; border: none; color: #b3b3b3; cursor: pointer; padding: 8px;">
                    <i class="fas fa-forward"></i>
                </button>
            </div>
            <div style="width: 100%; display: flex; align-items: center; gap: 10px;">
                <span id="currentTime" style="font-size: 12px; color: #b3b3b3;">0:00</span>
                <div onclick="window.seekTo(event)" style="flex: 1; height: 6px; background: #404040; border-radius: 3px; cursor: pointer; position: relative;">
                    <div id="progressFill" style="height: 100%; background: #1db954; border-radius: 3px; width: 0%;"></div>
                </div>
                <span id="totalTime" style="font-size: 12px; color: #b3b3b3;">0:00</span>
            </div>
        </div>
        
        <div style="display: flex; align-items: center; gap: 10px; justify-content: flex-end;">
            <button onclick="window.toggleMute()" id="volumeBtn" style="background: none; border: none; color: #b3b3b3; cursor: pointer;">
                <i class="fas fa-volume-up"></i>
            </button>
            <input type="range" min="0" max="100" value="70" id="volumeSlider" oninput="window.setVolume(this.value)" style="width: 100px;">
        </div>
    </footer>
    
    <audio id="audioPlayer" preload="metadata"></audio>

    <script src="/Ressonance/public/assets/js/player-core.js"></script>
    
    <script>
        function testSong1() {
            console.log('Testando música 1...');
            if (typeof window.playSong === 'function') {
                window.playSong('Música Teste', 'Artista Teste', [
                    { format: 'mp3', path: '13_1758990614.mp3' }
                ]);
            } else {
                alert('Função playSong não encontrada!');
            }
        }
        
        function testSong2() {
            console.log('Testando música 2...');
            if (typeof window.playSong === 'function') {
                window.playSong('Música Multi-formato', 'Artista Teste', [
                    { format: 'mp3', path: '13_1758990614.mp3' },
                    { format: 'mp3', path: '13_1758998124.mp3' }
                ]);
            } else {
                alert('Função playSong não encontrada!');
            }
        }
        
        // Verificar se as funções estão disponíveis
        setTimeout(() => {
            console.log('Funções disponíveis:');
            console.log('playSong:', typeof window.playSong);
            console.log('togglePlay:', typeof window.togglePlay);
            console.log('rewind5s:', typeof window.rewind5s);
            console.log('forward5s:', typeof window.forward5s);
        }, 1000);
    </script>
</body>
</html>